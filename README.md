# Home Plant Catalogue

A personal, AI-assisted catalogue of plants in my home. This project automates plant identification, metadata extraction, and static site generation from a directory of plant photos.

## Project Structure

- `photos/` — Raw plant photos (e.g., `.jpg` files) to be processed.
- `data/` — Structured JSON metadata for each photo, generated by AI. Includes `index.json` for fast lookup.
- `plants/` — (Currently empty) Intended for curated or manually organized plant entries.
- `thumbnails/` — Auto-generated thumbnails for each photo for fast web display.
- `scripts/` — Automation scripts for identification, batch processing, thumbnail generation, and index creation.
- `site/` — (Optional) Output directory for a static website (not yet implemented).
- `index.html` — (Optional) Static site entry point (not yet implemented).

## Workflow

1. **Add Photos:**
   - Place new plant images in the `photos/` directory.

2. **Batch Identification:**
   - Run `scripts/batch_identify_plants.py` to process all new images:
     - Uses OpenAI Vision LLM to identify up to 3 candidate species per image.
     - Produces a detailed JSON file in `data/` for each photo, following a strict schema.
     - Adds reference metadata and timestamps.

3. **Single Image Identification:**
   - Use `scripts/identify_one_plant.py <image_path>` to process a single image and print the result as JSON.

4. **Thumbnail Generation:**
   - Run `scripts/make_thumbnails.py` to create web-optimized thumbnails for all images in `photos/`.

5. **Index Generation:**
   - Run `scripts/generate_json_index.py` to update `data/index.json` with a list of all JSON metadata files.

6. **Static Site (Planned):**
   - The project is designed to support static site generation for browsing/searching your plant collection.

## Scripts Overview

- `batch_identify_plants.py` — Batch process all images in `photos/` and generate JSON metadata in `data/` using OpenAI Vision.
- `identify_one_plant.py` — Identify a single plant from an image and print structured JSON.
- `make_thumbnails.py` — Generate thumbnails for all images in `photos/`.
- `generate_json_index.py` — Create or update `data/index.json` for fast lookup.
- `plant_schema.json` — Defines the strict JSON schema for plant metadata.

## Requirements

- Python 3.8+
- `openai` Python package (for LLM-based scripts)
- `python-dotenv` (for `.env` support)
- `Pillow` (for thumbnail generation)

Install dependencies:

```bash
pip install openai python-dotenv Pillow
```

Set your OpenAI API key in a `.env` file:

```
OPENAI_API_KEY=sk-...
```

## Notes

- The system is designed to be conservative: if the AI is unsure, it will not guess and will set confidence to 0.0.
- All AI-generated metadata follows a strict schema (`scripts/plant_schema.json`).
- The `plants/` and `site/` folders are placeholders for future manual curation and static site output.

---

_Last updated: 2025-12-27_
